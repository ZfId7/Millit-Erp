<!DOCTYPE html>
<html lang="en">
<head>
{% block scripts %}{% endblock %}
{% block styles %}{% endblock %}

    <meta charset="UTF-8">
    <title>{% block title %}Millit Knives{% endblock %}</title>
  <!-- Global / app-wide CSS -->
  {# <link rel="stylesheet" href="{{ url_for('static', filename='css/app.css') }}">    #}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/components/buttons.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/components/cards.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/components/layout_helpers.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/components/side_bar.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/components/badges.css') }}">
  
  
<style>
	:root {
		--bg: #121212;
		--panel: #1a1a1a;
		--panel-2: #202020;
		--panel-3: #242424;


		--border: #2f2f2f;
		--border-2: #3a3a3a;


		--text: #f0f0f0;
		--muted: #b8b8b8;
		--muted-2: #8b8b8b;


		--accent: #00bfff;
		--accent-2: #33ccff;


		--good: #2ecc71;
		--warn: #f1c40f;
		--bad: #e74c3c;


		--shadow: 0 10px 30px rgba(0,0,0,.35);
		--radius: 12px;
		--radius-sm: 8px;


		--pad: 24px;
		--pad-sm: 14px;


		--font: 'Segoe UI', system-ui, -apple-system, sans-serif;
	}


	* { box-sizing: border-box; }


	body {
		margin: 0;
		padding: 0;
		background-color: var(--bg);
		color: var(--text);
		font-family: var(--font);
		display: flex;
		height: 100vh;
	}

	a { color: inherit; }

  
	/* ---------- Flash messages ---------- */
	.flash-wrap { display: flex; flex-direction: column; gap: 10px; margin-bottom: 14px; }


	.flash {
		border-radius: 12px;
			border: 1px solid var(--border);
		padding: 12px 14px;
		background: rgba(255,255,255,.03);
		display: flex;
		gap: 10px;
		align-items: flex-start;
	}


	.flash.success { border-color: rgba(46,204,113,.35); background: rgba(46,204,113,.10); }
	.flash.error { border-color: rgba(231,76,60,.35); background: rgba(231,76,60,.10); }
	.flash.info { border-color: rgba(0,191,255,.35); background: rgba(0,191,255,.10); }


	/* ---------- Small utilities ---------- */
	.muted { color: var(--muted); }
	.spacer { flex: 1; }
</style>
</head>
<body>
{% if not hide_sidebar %}
    <div class="sidebar">

        <h2><a href="{{ url_for('dashboard_bp.dashboard') }}"
				class="{% if request.endpoint.startswith('auth_bp.') %}active{% endif %}">
				ğŸ›  Millit Knives
			</a>
		</h2>
		
        <a href="{{ url_for('dashboard_bp.dashboard') }}" 
			class="{% if request.endpoint.startswith('dashboard_bp.') %}active{% endif %}">
			ğŸ  Overview
		</a>
		
        <a href="{{ url_for('surface_grinding_bp.surface_index') }}"
			class="{% if request.endpoint.startswith('surface_bp.') %}active{% endif %}">
			ğŸ§± Surface Grinding
		</a>
		
        <a href="{{ url_for('bevel_bp.bevel_index') }}"
			class="{% if request.endpoint.startswith('bevel_bp') %}active{% endif %}">
			ğŸ”ª Bevel Grinding
		</a>
		
        <a href="{{ url_for('inventory_bp.inventory_index') }}"
			class="{% if request.endpoint.startswith('inventory_bp') %}active{% endif %}">
			ğŸ“¦ Inventory
		</a>
		
		<a href="{{ url_for('mfg_bp.mfg_index') }}"
			class="{% if request.endpoint.startswith('mfg_bp') %}active{% endif %}">
			ğŸ­Manufacturing
		</a>
        
        <a href="{{ url_for('heat_treat_bp.heat_treat_index') }}"
			class="{% if request.endpoint.startswith('heat_treat_bp') %}active{% endif %}">
			ğŸ”¥ Heat Treat
		</a>
		
        <a href="{{ url_for('raw_materials_bp.raw_mats_index') }}"
            class="{% if request.endpoint.startswith('raw_mats_bp') %}active{% endif %}">
            âœ‚ï¸ Raw Materials
        </a>
        
        <a href="{{ url_for('analytics_bp.analytics_index') }}"
			class="{% if request.endpoint.startswith('analytics_bp') %}active{% endif %}">
			ğŸ“Š Analytics
		</a>
		<a href="{{ url_for('work_orders_bp.work_orders_index') }}"
			class="{% if request.endpoint.startswith('work_orders_bp.') %}active{% endif %}">
			ğŸ§¾ Work Orders
		</a>
		<a href="{{ url_for('jobs_bp.jobs_index') }}"
			class="{% if request.endpoint.startswith('jobs_bp.') %}active{% endif %}">
			ğŸ“‹ Job Management
		</a>
		
		{% if session.get('is_admin') %}
        <a href="{{ url_for('admin_users_bp.user_index') }}"
			class="{% if request.endpoint.startswith('admin_users_bp') %}active{% endif %}">
			ğŸ‘¤ User Management
		</a>

        <a href="{{ url_for('admin_bp.admin_index') }}"
            class="{% if request.endpoint.startswith('admin_bp') %}active{% endif %}">
			ğŸ”§ Admin Dashboard
		</a>
        {% endif %}
		
    </div>
{% endif %}

    <div class="main">
        <div class="topbar">
            <div class="topbar-left">
                {% block topbar %}{% endblock %}
            </div>
            <div class="topbar-links">
                {% block toplinks %}
					{% if session.get('user') %}
                    <a href="{{ url_for('jobs_bp.ops_active') }}" class="text-sm hover:text-gray-200">
                        âœ… My Active Ops
                    </a>

					<a href="{{ url_for('auth_bp.logout') }}" class="text-sm text-red-400 hover:text-red-300">
						ğŸ”’ Logout
					</a>
					{% endif %}
				{% endblock %}
            </div>
        </div>
        <div class="content">
			{% with messages = get_flashed_messages(with_categories=true) %}
				{% if messages %}
					<div class="flash-wrap">
						{% for category, message in messages %}
							<div class="flash {{ category }}">{{ message }}</div>
						{% endfor %}
					</div>
				{% endif %}
			{% endwith %}
            {% block content %}{% endblock %}
        </div>
    </div>

</body>
</html>
