<!-- File path: templates/manufacturing/machines.html-->

{% extends "base.html" %}
{% block title %}Machines | Manufacturing{% endblock %}

{% block topbar %}
üè≠ Manufacturing ‚Äî Machines
{% endblock %}

{% block toplinks %}
<div class="page-links">
  <a class="btn btn-primary" href="{{ url_for('mfg_bp.mfg_queue') }}">Queue</a>
  <a class="btn btn-primary" href="{{ url_for('mfg_bp.mfg_dispatch') }}">Dispatch</a>
  <a class="btn btn-primary" href="{{ url_for('mfg_bp.mfg_machines_index') }}">Machines</a>
</div>
{{ super() }}
{% endblock %}

{% block content %}
<div class="page">
  <div class="page-header">
    <div>
      <h1 class="page-title">Machines</h1>
      <p class="page-subtitle">Select a machine to view assigned work and claim unassigned work.</p>
    </div>
  </div>

  <div class="card">
    <h2>Active Machines</h2>

    {% if machines|length == 0 %}
      <p class="muted">No machines found.</p>
    {% else %}
      <table class="table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Key</th>
            <th>Group</th>
            <th>Active</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
        {% for m in machines %}
          <tr>
            <td><strong>{{ m.name }}</strong></td>
            <td class="muted">{{ m.key }}</td>
            <td><span class="badge">{{ m.machine_group }}</span></td>
            <td>{{ "Yes" if m.is_active else "No" }}</td>
            <td style="text-align:right;">
              <a class="btn btn-primary" href="{{ url_for('mfg_bp.mfg_machine_detail', machine_id=m.id) }}">
                Open
              </a>
            </td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    {% endif %}
  </div>
</div>
{% endblock %}
