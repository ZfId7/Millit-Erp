{% extends "base.html" %}

{% block title %}Manage Users{% endblock %}
{% block topbar %}ğŸ‘¤ User Management{% endblock %}

{% block content %}
<a href="{{ url_for('admin_users_bp.add_user') }}" class="add-user-btn">
    â• Add New User
</a>



<h2 class="text-xl font-bold mb-4">Current Users</h2>
<table class="w-full table-auto">
  <thead>
    <tr class="text-left text-zinc-400">
      <th class="pb-2">ID</th>
      <th class="pb-2">Username</th>
      <th class="pb-2">Role</th>
      <th class="pb-2">Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
    <tr class="border-t border-zinc-700">
      <td class="py-2">{{ user.id }}</td>
      <td class="py-2">{{ user.username }}</td>
      <td class="py-2">{{ user.role }}</td>
      <td class="py-2">
        <form method="POST" action="{{ url_for('admin_users_bp.edit_user', user_id=user.id) }}" class="inline-block mr-2">
          <input type="text" name="role" placeholder="New Role" class="px-1 py-0.5 text-xs w-20">
          <input type="password" name="password" placeholder="New Password" class="px-1 py-0.5 text-xs w-24">
          <button type="submit" class="text-yellow-400 hover:underline text-xs ml-1">âœï¸ Edit</button>
        </form>
        <form method="POST" action="{{ url_for('admin_users_bp.delete_user', user_id=user.id) }}" class="inline-block">
          <button type="submit" class="text-red-400 hover:underline text-xs">ğŸ—‘ï¸ Delete</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
{% block styles %}
<style>
  .add-user-btn {
    padding: 6px 14px;
    background-color: #1a1a1a;
    border: 1px solid #666;
    color: #00bfff;
    border-radius: 6px;
    font-size: 13px;
    text-decoration: none;
    transition: all 0.2s ease;
    margin-left: auto;
  }

  .add-user-btn:hover {
    background-color: #2a2a2a;
    border-color: #888;
    color: #33ccff;
  }
</style>
{% endblock %}